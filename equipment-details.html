<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Equipment Details - Cr8Kit</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/dashboard.css" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
    <script src="js/supa.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="navbar-left">
        <a href="browse.html" class="logo-nav">
          <span>Cr8Kit</span>
        </a>

        <div class="search-container">
          <input
            type="text"
            class="search-input"
            placeholder="Search for cameras, lights, audio..."
          />
          <i class="fas fa-search search-icon"></i>
        </div>
      </div>

      <div class="navbar-right">
        <ul class="nav-links">
          <li><a href="bookings.html" class="nav-link">My Bookings</a></li>
          <li><a href="my-listings.html" class="nav-link">My Listings</a></li>
        </ul>

        <a href="list-item.html" class="btn-list-item">List Item</a>

        <div class="nav-icons">
          <a href="notifications.html" class="icon-btn" title="Notifications">
            <i class="fas fa-bell"></i>
            <span
              class="notification-badge"
              id="navNotificationBadge"
              style="display: none"
            ></span>
          </a>
        </div>

        <a href="profile.html">
          <img
            src=""
            alt="User Avatar"
            class="user-avatar"
            data-dynamic-avatar="true"
          />
        </a>
      </div>
    </nav>

    <div class="page-container">
      <!-- Product Header -->
      <div class="product-header">
        <div>
          <h1 class="product-title">Loading...</h1>
          <div class="product-meta">
            <div class="product-rating">
              <i class="fas fa-star star-icon"></i>
              <span>-</span>
              <span class="review-count">(-)</span>
            </div>
            <span class="product-location">
              <i class="fas fa-map-marker-alt"></i> Loading...
            </span>
            <span class="verified-badge-inline" style="display: none">
              <i class="fas fa-check-circle"></i> Verified Gear
            </span>
          </div>
        </div>
      </div>

      <!-- Product Images Section -->
      <div class="product-images-section">
        <div class="main-image-container">
          <img
            src="https://via.placeholder.com/800x600?text=Loading..."
            alt="Loading equipment image"
            class="main-product-image"
          />
        </div>
        <div class="image-grid">
          <div class="image-thumbnail">
            <img
              src="https://via.placeholder.com/200x150?text=Lens"
              alt="Lens"
            />
          </div>
          <div class="image-thumbnail">
            <img
              src="https://via.placeholder.com/200x150?text=Placeholder"
              alt="Placeholder"
            />
          </div>
          <div class="image-thumbnail">
            <img
              src="https://via.placeholder.com/200x150?text=Kit+Contents"
              alt="Kit Contents"
            />
          </div>
          <div class="image-thumbnail show-all">
            <img
              src="https://via.placeholder.com/200x150?text=More"
              alt="More"
            />
            <button class="show-all-btn">Show all photos</button>
          </div>
        </div>
      </div>

      <!-- Key Features -->
      <div class="features-grid">
        <div class="feature-card">
          <i class="fas fa-bolt feature-icon"></i>
          <span>Instant Book</span>
        </div>
        <div class="feature-card">
          <i class="fas fa-shield-alt feature-icon"></i>
          <span>Insured</span>
        </div>
        <div class="feature-card">
          <i class="fas fa-truck feature-icon"></i>
          <span>Delivery</span>
        </div>
        <div class="feature-card">
          <i class="fas fa-check-circle feature-icon"></i>
          <span>Verified</span>
        </div>
      </div>

      <div class="product-details-layout">
        <!-- Left Column: Product Info -->
        <div class="product-info-column">
          <!-- Host Information -->
          <div class="info-section">
            <div class="host-info">
              <img
                src=""
                alt="Host Avatar"
                class="host-avatar"
                data-dynamic-avatar="true"
                data-size="60"
              />
              <div class="host-details">
                <div class="host-name">Loading...</div>
                <div class="host-meta">Loading...</div>
              </div>
              <button class="btn-secondary">More from this owner</button>
            </div>
          </div>

          <!-- About This Gear -->
          <div class="info-section">
            <h2 class="section-heading">About this gear</h2>
            <p class="section-text">Loading equipment description...</p>

            <!-- Kit list will be shown only if description includes kit info -->
            <div id="kitListContainer" style="display: none">
              <h3 class="subsection-heading">Kit includes:</h3>
              <ul class="kit-list"></ul>
            </div>
          </div>

          <!-- Technical Specifications (hidden by default, can be shown if needed) -->
          <div class="info-section" id="specsSection" style="display: none">
            <h2 class="section-heading">Technical Specifications</h2>
            <table class="specs-table"></table>
          </div>

          <!-- Availability -->
          <div class="info-section">
            <h2 class="section-heading">Availability</h2>
            <p class="section-text" style="margin-bottom: var(--spacing-md)">
              Prices may vary on weekends or holidays.
            </p>
            <div class="calendar-container">
              <div class="calendar-header">
                <button class="calendar-nav">
                  <i class="fas fa-chevron-left"></i>
                </button>
                <h3 class="calendar-month">October 2023</h3>
                <button class="calendar-nav">
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
              <div class="calendar-grid">
                <div class="calendar-day-header">Su</div>
                <div class="calendar-day-header">Mo</div>
                <div class="calendar-day-header">Tu</div>
                <div class="calendar-day-header">We</div>
                <div class="calendar-day-header">Th</div>
                <div class="calendar-day-header">Fr</div>
                <div class="calendar-day-header">Sa</div>
                <!-- Calendar days will be generated dynamically by JavaScript -->
              </div>
            </div>
          </div>

          <!-- Location -->
          <div class="info-section">
            <h2 class="section-heading">Location</h2>
            <p class="section-text">Loading...</p>
            <div class="map-container">
              <div class="map-placeholder">
                <i class="fas fa-map-marker-alt"></i>
                <p>Map view</p>
              </div>
            </div>
          </div>

          <!-- Reviews -->
          <div class="info-section">
            <div class="reviews-header">
              <div>
                <i class="fas fa-star star-icon"></i>
                <span class="reviews-rating">-</span>
                <span class="reviews-count">(-)</span>
              </div>
            </div>

            <!-- Reviews will be loaded dynamically -->
            <div id="reviewsContainer">
              <!-- Reviews will be inserted here by JavaScript -->
            </div>
          </div>
        </div>

        <!-- Right Column: Booking Card -->
        <div class="booking-card-column">
          <div class="booking-card-sticky">
            <div class="booking-price-header">
              <span class="price-per-day"
                >Loading... <span class="price-unit">/ day</span></span
              >
              <span class="price-rating">
                <i class="fas fa-star star-icon"></i> -
              </span>
            </div>

            <div class="booking-dates">
              <div class="date-input-group">
                <label>START</label>
                <input
                  type="text"
                  class="booking-date-input"
                  id="startDateInput"
                  value=""
                  readonly
                />
              </div>
              <div class="date-input-group">
                <label>END</label>
                <input
                  type="text"
                  class="booking-date-input"
                  id="endDateInput"
                  value=""
                  readonly
                />
              </div>
            </div>

            <button class="btn-primary btn-book-request">
              Request to Book
            </button>

            <p class="booking-note">You won't be charged yet</p>

            <div class="booking-breakdown">
              <div class="breakdown-row">
                <span>Select dates to see pricing</span>
              </div>
            </div>

            <div class="security-note">
              <i class="fas fa-lock"></i>
              <span>Payments are secure and encrypted</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="page-footer">
      <div class="footer-content">
        <p>Â© 2023 Cr8Kit Ghana. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
          <a href="#">Sitemap</a>
        </div>
      </div>
    </footer>

    <script src="js/modal-utils.js"></script>
    <script src="js/equipment-details.js?v=2"></script>
  </body>
</html>
